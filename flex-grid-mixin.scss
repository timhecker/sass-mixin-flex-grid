
// ↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧↧
// Flex grid
// ↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥↥

@mixin flex-grid($cols, $gap, $item-name) {
  display: flex;
  flex-wrap: wrap;
  margin-left: (-$gap);
  margin-right: (-$gap);

  .#{$item-name} {
    flex-grow: 1;
    flex-shrink: 0;

    @if $cols >= 4 {
      @media screen and (min-width: 48em) { // small viewport
        $my-cols: $cols - 2;
        $item-width: calc((100% / #{$my-cols}) - #{$gap * 2});
        max-width: $item-width; // for IE
        flex-basis: $item-width; // for iOS
        margin-left: $gap;
        margin-right: $gap;
      }
    } @else {
      @media screen and (min-width: 48em) { // small viewport
        $my-cols: $cols - 1;
        $item-width: calc((100% / #{$my-cols}) - #{$gap * 2});
        max-width: $item-width;
        flex-basis: $item-width;
        margin-left: $gap;
        margin-right: $gap;

      }
    }

    @if $cols >= 4 {
      @media screen and (min-width: 60em) { // medium viewport
        $my-cols: $cols - 1;
        $item-width: calc((100% / #{$my-cols}) - #{$gap * 2});
        flex-basis: $item-width;
        max-width: $item-width;
      }
    } @else {
        @media screen and (min-width: 60em) { // medium viewport
          $my-cols: $cols;
          $item-width: calc((100% / #{$my-cols}) - #{$gap * 2});
          flex-basis: $item-width;
          max-width: $item-width;
        }
    }

    @if $cols >= 4 {
      @media screen and (min-width: 80em) { // large viewport
        $my-cols: $cols;
        $item-width: calc((100% / #{$my-cols}) - #{$gap * 2});
        flex-basis: $item-width;
        max-width: $item-width;
      }
    }
  }
}
